<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Podman、Docker搭建Nexus3私有Maven、Docker镜像仓库</title>
    <url>/2021/09/15/docker%E3%80%81podman%E6%90%AD%E5%BB%BAnexus3%E7%A7%81%E6%9C%89maven%E3%80%81docker%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93/</url>
    <content><![CDATA[<p>在日常开发中,为了更简单的使用一些自制的工具,因此有时会把工具集打成 jar 包方便调用<br>虽然可以存放在 Maven 本地仓库,但是万物皆可云,为什么不搭建一个云端私有仓库呢<br>众所周知,良心云套路云各大云平台都提供了免费的私有 Maven 仓库服务,用就好啦</p>
<h1 id="此帖终结"><a href="#此帖终结" class="headerlink" title="此帖终结"></a>此帖终结</h1><p>哈哈逗你的,众所周知前期免费中后期就可能收费,作为一个DIY(qiong bi)爱好者,当然是自己动手搭建一个,经过 Google 最终选型是 Nexus<br>Nexus 的全称是 Nexus Repository Manager,是 Sonatype 公司的一个产品。它是一个强大的仓库管理器，极大地简化了内部仓库的维护和外部仓库的访问(抄的)</p>
<h1 id="进入教程"><a href="#进入教程" class="headerlink" title="进入教程"></a>进入教程</h1><ol>
<li><p>Podman、Docker安装<br>推荐官方文档: <a href="https://podman.io/getting-started/installation">Podman安装</a>、<a href="https://docs.docker.com/engine/install/">Docker安装</a>  </p>
<p><code>PS</code>:使用 Arch 系 Linux 安装 Podman 时会遇到权限问题, ArchWiki 上就有解决方案<a href="https://wiki.archlinux.org/title/Podman">(地址)</a>,Podman 基本兼容 Docker 命令,下文使用 Podman 进行操作,如使用 Docker ,需 root 权限  </p>
</li>
<li><p>部署<br>此处使用最简单的 Podman 容器化部署  </p>
<ul>
<li>创建文件夹用于后面挂载容器数据<br>出于方便赋予 <code>777</code> 权限(重度洁癖者可自行授予其他权限)  <pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">  mkdir -p ~&#x2F;nexus&#x2F;data
  chmod 777 -R ~&#x2F;nexus
  &#96;&#96;&#96;  
* 创建容器并挂载对应数据卷  
  &#96;&#96;&#96;shell
  podman run --restart always -d \ 
             -v ~&#x2F;nexus&#x2F;data:&#x2F;nexus-data \ 
             -p 8081-8089:8081-8089 \ 
             --name nexus \ 
             klo2k&#x2F;nexus3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
大约等待两分钟后通过浏览器访问 <code>http://IP地址:8081</code> 即可进入 Nexus 的管理界面<br>默认帐号为admin,默认密码可通过挂载的数据卷中的admin.password查看,登陆后可修改密码<br>端口映射了 8081-8089 九个端口作为冗余  </li>
</ul>
</li>
</ol>
<h1 id="部署完成"><a href="#部署完成" class="headerlink" title="部署完成"></a>部署完成</h1><p>接下来进入本文的第二部分,恰巧仓库搭建完,我需要一个 Docker 私有镜像仓库,又开始了漫漫选型路<br>现如今比较常见的仓库有以下几个:</p>
<ul>
<li>Registry: Docker 官方提供的原生仓库</li>
<li>Portus：由 SuSE 团队推出</li>
<li>Harbor: VMWare 中国团队推出的企业级仓库  </li>
</ul>
<p>企业级,多么诱人的名字,我理所当然地选择了 Harbor ,看了一圈下来果断劝退,理由是作为一个坚定的 Podman 使用者, Harbor 官方的部署方式是使用 docker-compose , Podman 目前并没有官方成熟的替代产品(痛心疾首),而手动部署的方式有过于麻烦也不便管理<br>最终,在机缘巧合之下发现 Nexus3 的版本支持作为 Docker 镜像仓库(狂喜)  </p>
<h1 id="Nexus3-Docker-镜像仓库配置"><a href="#Nexus3-Docker-镜像仓库配置" class="headerlink" title="Nexus3 Docker 镜像仓库配置"></a>Nexus3 Docker 镜像仓库配置</h1><ol>
<li><p>登陆 Nexus 后,点击设置<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/Podman%E3%80%81Docker%E6%90%AD%E5%BB%BANexus3%E7%A7%81%E6%9C%89Maven%E3%80%81Docker%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93/Podman%E3%80%81Docker%E6%90%AD%E5%BB%BANexus3%E7%A7%81%E6%9C%89Maven%E3%80%81Docker%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93-1.png" alt="Podman、Docker搭建Nexus3私有Maven、Docker镜像仓库-1">  </p>
</li>
<li><p>点击仓库并点击 Create repository 创建仓库<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/Podman%E3%80%81Docker%E6%90%AD%E5%BB%BANexus3%E7%A7%81%E6%9C%89Maven%E3%80%81Docker%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93/Podman%E3%80%81Docker%E6%90%AD%E5%BB%BANexus3%E7%A7%81%E6%9C%89Maven%E3%80%81Docker%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93-2.png" alt="Podman、Docker搭建Nexus3私有Maven、Docker镜像仓库-2">  </p>
</li>
<li><p>Docker 镜像仓库分别有 group 、hosted 、proxy 三个选项  </p>
<ul>
<li><p>group : 组类型，实质作用是组合多个仓库为一个地址</p>
</li>
<li><p>hosted : 本地存储，即同 docker 官方仓库一样提供本地私服功能</p>
</li>
<li><p>proxy : 提供代理其他仓库的类型，如 docker 中央仓库  </p>
<p>此处选择 hosted 类型,填写上名称后,可勾选 HTTP 选项并填入 8082-8089 间任意一个端口作为镜像仓库的推拉端口<br>勾选 <code>Enable Docker V1 API</code> 允许 v1 版本 API<br>其他选项默认即可,点击 <code>Create repository</code>即可创建仓库<br>结果如下:<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/Podman%E3%80%81Docker%E6%90%AD%E5%BB%BANexus3%E7%A7%81%E6%9C%89Maven%E3%80%81Docker%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93/Podman%E3%80%81Docker%E6%90%AD%E5%BB%BAnexus3%E7%A7%81%E6%9C%89maven%E3%80%81docker%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93-3.png" alt="Podman、Docker搭建Nexus3私有Maven、Docker镜像仓库-3"><br>至此,大功告成</p>
</li>
</ul>
</li>
</ol>
<h1 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h1><p>   最后还有一些个人的思路,云服务器上部署私有镜像仓库听起来是很不错,但是实际上还是存在着一些问题,比如存储问题, Nexus 本身是支持使用 AWS 的对象存储作为 Blob Stores 的但是奈何我不想再注册一个 AWS 的帐号,而对象存储本身又是一笔支出,还是从免费入手,一番查证后,腾讯云的对象存储也是使用 AWS 的 S3 协议,但是一番操作过后,由于设置中的 Region 只能在已有列表中选择,宣告GG,于是又衍生出了另一个思路, 使用对象存储工具 COSFS 将腾讯云的存储桶挂载为服务器磁盘,然后在 Blob Stores 中进行添加,达到同样的效果,后续如果有时间去操作了,再出一个教程吧,而关于 Docker 和 Podman 如何使用私有镜像仓库,实际上还是有一些小坑的,也是等下个教程再说吧</p>
]]></content>
      <categories>
        <category>Linux</category>
        <category>Docker</category>
        <category>Podman</category>
        <category>Maven</category>
        <category>容器化</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Docker</tag>
        <tag>Podman</tag>
        <tag>Maven</tag>
        <tag>容器化</tag>
      </tags>
  </entry>
  <entry>
    <title>ssh免密登陆</title>
    <url>/2021/06/22/ssh%E5%85%8D%E5%AF%86%E7%99%BB%E9%99%86/</url>
    <content><![CDATA[<h2 id="1-在客户端生成公私钥"><a href="#1-在客户端生成公私钥" class="headerlink" title="1. 在客户端生成公私钥"></a>1. 在客户端生成公私钥</h2>  <pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ssh<span class="token operator">-</span>keygen <span class="token comment"># 在当前服务器生成公私钥,选项全为默认即可  </span>
cd ~<span class="token operator">/</span><span class="token punctuation">.</span>ssh  <span class="token comment"># 进入公私钥存放文件夹  </span>
<span class="token function">ls</span>         <span class="token comment"># 查看所有文件</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>  <code>id_rsa</code>私钥文件<br>  <code>id_rsa.pub</code> 公钥文件  </p>
<h2 id="2-把公钥上传到服务器"><a href="#2-把公钥上传到服务器" class="headerlink" title="2. 把公钥上传到服务器"></a>2. 把公钥上传到服务器</h2>  <pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">ssh<span class="token operator">-</span><span class="token function">copy-id</span> <span class="token operator">-</span>i ~<span class="token operator">/</span><span class="token punctuation">.</span>ssh<span class="token operator">/</span>id_rsa evil@192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>1<span class="token punctuation">.</span>155 <span class="token comment"># 复制公钥到服务器上</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>  <code>192.168.1.155</code>为服务器地址<br>  <code>evil</code>为服务器登陆用户名<br>  此时可登陆到服务器确认<code>.ssh</code>目录中是否以写入客户端公钥  </p>
  <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~/.ssh <span class="token comment"># 进入用户目录下.ssh文件夹</span>
<span class="token function">cat</span> authorized_keys <span class="token comment">#查看文件中是否已写入客户端公钥</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h2 id="3-免密登陆"><a href="#3-免密登陆" class="headerlink" title="3. 免密登陆"></a>3. 免密登陆</h2>  <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> evil@192.168.1.155 <span class="token comment"># 通过ssh免密登陆服务器</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>最简单启动合成大西瓜</title>
    <url>/2021/02/04/%E6%9C%80%E7%AE%80%E5%8D%95%E5%90%AF%E5%8A%A8%E5%90%88%E6%88%90%E5%A4%A7%E8%A5%BF%E7%93%9C/</url>
    <content><![CDATA[<blockquote>
<p>最近合成大西瓜忽然爆火，并且出了很多的魔改版<br>很多人找到了源码但是不知道怎么启动<br><a href="https://github.com/li-ji-ji/gua.git">COPY下来的源码地址</a><br>毕竟点击index.html之后能打开但是爆了一堆错误<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/%E6%9C%80%E7%AE%80%E5%8D%95%E5%90%AF%E5%8A%A8%E5%90%88%E6%88%90%E5%A4%A7%E8%A5%BF%E7%93%9C/1.png" alt="合成大西瓜bug"><br>看来看去不就是跨域问题<br>网上的教程一水的 <code>node</code> + <code>npm</code><br>今天整个个人认为最简单的，这东西实际上不就个静态文件吗<br>该有的依赖不是在包里就是引的cdn，<br>直接 <code>Nginx</code> 他不香吗<br>说整就整</p>
</blockquote>
<span id="more"></span>

<ol>
<li><p>安装nginx  </p>
<ol>
<li><p><a href="https://blog.evil-scream.cn/2021/01/11/Nginx%E6%90%AD%E5%BB%BA%E7%AE%80%E5%8D%95%E6%96%87%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8/"><code>Linux安装Nginx</code></a>  </p>
</li>
<li><p><code>Windows</code>: <a href="https://nginx.org/download/nginx-1.19.6.zip">Nginx安装包下载</a>  </p>
<ul>
<li><p>解压缩并进入文件夹，点击文件资源管理器地址栏<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/%E6%9C%80%E7%AE%80%E5%8D%95%E5%90%AF%E5%8A%A8%E5%90%88%E6%88%90%E5%A4%A7%E8%A5%BF%E7%93%9C/2.jpeg" alt="文件资源管理器地址栏">  </p>
</li>
<li><p>输入cmd打开命令行，输入 <code>nginx.exe</code> ，回车<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/%E6%9C%80%E7%AE%80%E5%8D%95%E5%90%AF%E5%8A%A8%E5%90%88%E6%88%90%E5%A4%A7%E8%A5%BF%E7%93%9C/3.jpeg" alt="cmd">  </p>
</li>
<li><p>启动成功的话能在任务管理器看到 <code>nginx</code><br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/%E6%9C%80%E7%AE%80%E5%8D%95%E5%90%AF%E5%8A%A8%E5%90%88%E6%88%90%E5%A4%A7%E8%A5%BF%E7%93%9C/4.jpeg" alt="成功1"><br>或者在浏览器输入 <code>localhost</code> 能看到以下欢迎页<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/%E6%9C%80%E7%AE%80%E5%8D%95%E5%90%AF%E5%8A%A8%E5%90%88%E6%88%90%E5%A4%A7%E8%A5%BF%E7%93%9C/5.png" alt="成功2">  </p>
</li>
</ul>
</li>
</ol>
</li>
<li><p>配置nginx  </p>
<ol>
<li>配置文件所在目录  <ul>
<li><code>Windows</code> ：解压缩后文件夹里面的 <code>conf</code> 文件夹中的 <code>nginx.conf</code> 文件</li>
<li><code>Linux</code> ：一般为 <code>/etc/nginx/nginx.conf</code>  </li>
</ul>
</li>
<li>修改配置文件  <ul>
<li>在 <code>http</code> 节点中 找到 <code>server</code> 如下：<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/%E6%9C%80%E7%AE%80%E5%8D%95%E5%90%AF%E5%8A%A8%E5%90%88%E6%88%90%E5%A4%A7%E8%A5%BF%E7%93%9C/6.png" alt="节点">  </li>
<li>將 <code>root</code> 后面 <code>；</code> 前的内容替换为刚刚下载下来的 <code>gua</code> 文件夹的所在路径  </li>
<li>重启 <code>Nginx</code>， <code>Windows</code> 可在任务管理器停止掉 <code>nginx.exe</code> 进程再按照前面的方式重新启动， <code>Linux</code> 直接在命令行输入 <code>sudo systemctl restart nginx</code> 即可  </li>
</ul>
</li>
</ol>
</li>
<li><p>完成<br>打开浏览器，地址栏输入 <code>localhost</code> 你就可以看到游戏界面了，不过推荐手机访问，电脑访问需要先按 <code>F12</code>， 点击以下图标，<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/%E6%9C%80%E7%AE%80%E5%8D%95%E5%90%AF%E5%8A%A8%E5%90%88%E6%88%90%E5%A4%A7%E8%A5%BF%E7%93%9C/7.png" alt="图标"><br>然后选择手机设备才行<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/%E6%9C%80%E7%AE%80%E5%8D%95%E5%90%AF%E5%8A%A8%E5%90%88%E6%88%90%E5%A4%A7%E8%A5%BF%E7%93%9C/8.png" alt="图标2">  </p>
</li>
<li><p>最后，你可以在自己的服务器上整一个了，不然你以为我为啥一直cue在 <code>Linux</code> 上的操作呢哈哈哈哈，至于自己动手魔改这种事，等我真的闲得蛋疼了可能会出一个教程吧哈哈哈哈</p>
</li>
</ol>
]]></content>
      <categories>
        <category>无聊至极</category>
      </categories>
      <tags>
        <tag>合成大西瓜</tag>
        <tag>无聊至极</tag>
      </tags>
  </entry>
  <entry>
    <title>fcitx5在vscode中的BUG</title>
    <url>/2021/01/24/fcitx5%E5%9C%A8vscode%E4%B8%AD%E7%9A%84BUG/</url>
    <content><![CDATA[<h2 id="关于fcitx5在vscode命令行中输入重复的问题"><a href="#关于fcitx5在vscode命令行中输入重复的问题" class="headerlink" title="关于fcitx5在vscode命令行中输入重复的问题"></a>关于fcitx5在vscode命令行中输入重复的问题</h2><h3 id="问题发现"><a href="#问题发现" class="headerlink" title="问题发现"></a>问题发现</h3><ul>
<li>最近fcitx4版本的输入法用腻了，听说fcitx5不错，于是尝尝鲜，结果bug吸引体质又发挥作用了，在vscode的命令行里打字的时候就出现bug了（不要问我为什么要在终端里敲中文= =），bug效果如下：  <span id="more"></span>
<img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/fcitx5%E5%9C%A8vscode%E4%B8%AD%E7%9A%84BUG/1.png" alt="bug图1"><br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/fcitx5%E5%9C%A8vscode%E4%B8%AD%E7%9A%84BUG/2.png" alt="bug图2">  </li>
<li>简单来说就是打出来的字实际上是上一次输入的最后两个字  </li>
<li>经过排除之后，是 <code>fcitx5-chinese-addons</code> 这个包里面的输入法引起的问题，至于原因本菜鸡就不知道了  </li>
</ul>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><ul>
<li>很简单，不使用 <code>fcitx5-chinese-addons</code> ，改用 <code>fcitx5-rime</code>，问题解决<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/fcitx5%E5%9C%A8vscode%E4%B8%AD%E7%9A%84BUG/3.png" alt="解决图1"></li>
<li><code>fcitx5-rime</code> 默认设置是繁体，使用 <code>F4</code> 可以进行切换，效果如下：<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/fcitx5%E5%9C%A8vscode%E4%B8%AD%E7%9A%84BUG/4.png" alt="解决图2"></li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>fcitx5</tag>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title>Nginx搭建简单文件服务器</title>
    <url>/2021/01/11/Nginx%E6%90%AD%E5%BB%BA%E7%AE%80%E5%8D%95%E6%96%87%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<h3 id="1-Nginx安装"><a href="#1-Nginx安装" class="headerlink" title="1. Nginx安装"></a>1. Nginx安装</h3><ul>
<li>Ubuntu: <code>sudo apt-get install nginx</code>  </li>
<li>Fedora、Centos: <code>sudo yum install nginx</code>  </li>
<li>Manjaro: <code>sudo pacman -S nginx</code>  </li>
</ul>
<h3 id="2-配置文件"><a href="#2-配置文件" class="headerlink" title="2. 配置文件"></a>2. 配置文件</h3><ul>
<li>查找Nginx配置文件: <code>sudo find / -name nginx.conf</code>  </li>
<li>一般存放在 /etc/nginx/nginx.conf  </li>
</ul>
<span id="more"></span>

<h3 id="3-修改配置文件"><a href="#3-修改配置文件" class="headerlink" title="3. 修改配置文件"></a>3. 修改配置文件</h3><ul>
<li><p>在 http 节点中添加以下代码  </p>
<pre class="line-numbers language-nginx" data-language="nginx"><code class="language-nginx"><span class="token keyword">autoindex</span> on<span class="token punctuation">;</span>             <span class="token comment">#开启索引功能</span>
<span class="token keyword">autoindex_exact_size</span> off<span class="token punctuation">;</span> <span class="token comment"># 关闭计算文件确切大小（单位bytes），只显示大概大小（单位kb、mb、gb）</span>
<span class="token keyword">autoindex_localtime</span> on<span class="token punctuation">;</span>   <span class="token comment"># 显示本机时间而非 GMT 时间</span>
<span class="token keyword">charset</span> utf<span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment"># 避免中文乱码</span>

<span class="token keyword">server</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">listen</span>       <span class="token number">9999</span><span class="token punctuation">;</span> <span class="token comment">#监听端口号</span>
  <span class="token keyword">server_name</span>  localhost<span class="token punctuation">;</span>
  <span class="token comment">#root         /usr/share/nginx/html;</span>
  <span class="token keyword">root</span>         <span class="token operator">/</span>home<span class="token operator">/</span>evil<span class="token operator">/</span>share<span class="token punctuation">;</span> <span class="token comment"># 共享的文件目录</span>
  <span class="token keyword">error_log</span> <span class="token operator">/</span>home<span class="token operator">/</span>evil<span class="token operator">/</span>share<span class="token operator">/</span>log<span class="token operator">/</span>error<span class="token punctuation">.</span>log <span class="token punctuation">;</span> <span class="token comment"># 报错的文件目录</span>

  <span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">&#123;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">error_page</span> <span class="token number">404</span> <span class="token operator">/</span><span class="token number">404.</span>html<span class="token punctuation">;</span>
    <span class="token keyword">location</span> <span class="token operator">=</span> <span class="token operator">/</span><span class="token number">40</span>x<span class="token punctuation">.</span>html <span class="token punctuation">&#123;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">error_page</span> <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> <span class="token operator">/</span><span class="token number">50</span>x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    <span class="token keyword">location</span> <span class="token operator">=</span> <span class="token operator">/</span><span class="token number">50</span>x<span class="token punctuation">.</span>html <span class="token punctuation">&#123;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>保存文件并重启Nginx  </p>
</li>
</ul>
<h3 id="4-效果图"><a href="#4-效果图" class="headerlink" title="4. 效果图"></a>4. 效果图</h3><ul>
<li><p><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/Nginx%E6%90%AD%E5%BB%BA%E7%AE%80%E5%8D%95%E6%96%87%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8/img1.webp" alt="Nginx搭建简单文件服务器">  </p>
<h3 id="5-坑"><a href="#5-坑" class="headerlink" title="5. 坑"></a>5. 坑</h3></li>
<li><p>403 Forbidden<br>403 forbidden错误是禁止读取访问。也就是说服务器理解了请求，但是不允许访问  </p>
</li>
<li><p>解决方案：  </p>
<blockquote>
<p><code>cd</code> 进入文件夹，确认文件夹存在，文件夹存在即为访问权限问题  </p>
</blockquote>
<blockquote>
<p>修改文件夹访问权限 <code>chmod 755 文件夹路径</code>  </p>
</blockquote>
<blockquote>
<p>重启 nginx 后还是 <code>403</code>  </p>
</blockquote>
<blockquote>
<p>查看日志文件内容，显示：<br><code>2021/01/11 18:07:11 [error] 98226#98226: *1 &quot;/home/evil/share/index.html&quot; is forbidden (13: Permission denied), client: 127.0.0.1, server: localhost, request: &quot;GET / HTTP/1.1&quot;, host: &quot;localhost:9999&quot;</code>  </p>
</blockquote>
<blockquote>
<p>是 nginx 运行用户的问题，<code>ps -aux | grep nginx</code> 查看 nginx worker 用户<br><img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/Nginx%E6%90%AD%E5%BB%BA%E7%AE%80%E5%8D%95%E6%96%87%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8/img2.webp" alt="Nginx搭建简单文件服务器"><br>运行用户为 http ，修改 nginx 运行用户（如果nginx配置的用户和静态文件的用户不匹配，那怕权限是777也会出现权限问题）  </p>
</blockquote>
<blockquote>
<p>在 nginx.conf 开头加入: </p>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">user 用户名 用户组<span class="token punctuation">;</span> <span class="token comment"># 这里的用户名和组就是文件夹的</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
</li>
</ul>
<h2 id="Over"><a href="#Over" class="headerlink" title="Over"></a>Over</h2>]]></content>
      <categories>
        <category>Nginx</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>JVM基础</title>
    <url>/2021/01/08/JVM%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h2 id="陈树义JVM基础15讲完结"><a href="#陈树义JVM基础15讲完结" class="headerlink" title="陈树义JVM基础15讲完结"></a>陈树义JVM基础15讲完结</h2><ul>
<li>原文地址： <a href="https://www.cnblogs.com/chanshuyi/p/jvm_serial_00_why_learn_jvm.html">陈树义JVM基础15讲</a><span id="more"></span></li>
<li>思维导图： <img src="https://blog-1257162717.cos.ap-shanghai.myqcloud.com/JVM%E5%9F%BA%E7%A1%80/img1.webp" alt="JVM基础"></li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title>关于Linux下zsh启动时需手动source ~/.zshrc的解决方案</title>
    <url>/2020/05/06/%E5%85%B3%E4%BA%8Ezsh%E5%90%AF%E5%8A%A8%E6%97%B6%E9%9C%80%E6%89%8B%E5%8A%A8source-zshrc%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
    <content><![CDATA[<h2 id="前置知识：-etc-zsh-zprofile"><a href="#前置知识：-etc-zsh-zprofile" class="headerlink" title="前置知识：/etc/zsh/zprofile"></a>前置知识：/etc/zsh/zprofile</h2><p>这是一个全局的配置文件，在用户登录的时候加载。一般是用来在登录的时候执行一些命令。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">sudo gedit ~<span class="token operator">/</span><span class="token punctuation">.</span>zprofile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>添加脚本</p>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">source ~<span class="token operator">/</span><span class="token punctuation">.</span>zshrc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="大功告成"><a href="#大功告成" class="headerlink" title="大功告成"></a>大功告成</h1><h2 id="当然，类似问题也可以这样解决"><a href="#当然，类似问题也可以这样解决" class="headerlink" title="当然，类似问题也可以这样解决"></a>当然，类似问题也可以这样解决</h2><p><a href="https://blog.csdn.net/Faiz5z/article/details/80986460">参考博客地址</a></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux环境下运行、关闭jar包</title>
    <url>/2020/02/12/centos7%E7%8E%AF%E5%A2%83%E4%B8%8B%E8%BF%90%E8%A1%8C%E3%80%81%E5%85%B3%E9%97%ADjar%E5%8C%85/</url>
    <content><![CDATA[<ul>
<li><p>启动<br>执行  <code>cd 文件夹路径</code>  命令进入jar包所在文件夹<br>后台运行jar包：</p>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">nohup java <span class="token operator">-</span>jar <span class="token operator">*</span>*<span class="token operator">*</span><span class="token punctuation">.</span>jar &amp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><code>nohub</code> 表示后台不挂断运行<br>如需将日志输出到指定文件，在&amp;前面加上&gt;***.log ，如下：<br>(使用&gt;为覆盖源文件，使用 &gt;&gt; 则为续写文件)</p>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">nohup java <span class="token operator">-</span>jar <span class="token operator">*</span>*<span class="token operator">*</span><span class="token punctuation">.</span>jar ><span class="token operator">*</span>*<span class="token operator">*</span><span class="token punctuation">.</span>log &amp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>关闭</p>
</li>
</ul>
<ol>
<li>方法一：<br> 执行 <code>ps -ef|grep java</code> 命令查看当前正在运行的java进程，结果如下，第二列为进程PID  <pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">root     20032     1  0 Jan01 ?        00:00:00 sudo nohup java <span class="token operator">-</span>jar myblog<span class="token punctuation">.</span>jar
root     20033 20032  0 Jan01 ?        00:55:54 java <span class="token operator">-</span>jar myblog<span class="token punctuation">.</span>jar
root     26038     1  0  2019 ?        00:00:00 sudo nohup java <span class="token operator">-</span>jar IctExam<span class="token punctuation">.</span>jar
root     26039 26038  0  2019 ?        06:51:08 java <span class="token operator">-</span>jar IctExam<span class="token punctuation">.</span>jar
root     28443  9171  0 21:47 pts<span class="token operator">/</span>3    00:00:00 grep <span class="token operator">--</span>color=auto java<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li>方法二：<br>执行<code>pidof java</code> 或者 <code>jps</code> 查看现有jar包进程PID<br>执行 <code>kill -9 PID</code> 结束该PID对应的进程</li>
</ol>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
</search>
